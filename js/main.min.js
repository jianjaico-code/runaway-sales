"use strict";function enableInput(e){$("*[aria-describedby='"+e.id+"']").attr("disabled",!1).focus()}function handleImageChange(e){$("#viewproductimageref").val(e.files[0].name);var t=new FileReader;t.onload=function(){$("#productimagepreview").attr("src",t.result)},t.readAsDataURL(e.files[0]),$("#productimageedit").attr("disabled",!1)}function updateField(e,t){$.ajax("viewproduct.php",{method:"POST",data:e}).then(function(e){t(e)}).catch(function(e){console.error(e),$("body").showAlert({type:"warning",body:"Something happened on our side. Please reload your browser for better experience"})})}jQuery(function(){$("#viewproductname").on("blur",function(t){if(!$(t.target).val())return $(t.target).val(_defaultvalues.name);$(t.target).val()!=_defaultvalues.name&&($(t.target).attr("disabled",!0),updateField({PName:$(t.target).val(),ProductId:$("#productid").val()},function(e){console.log(e),JSON.parse(e).response&&$("body").showAlert({type:"success",body:"Name updated."}),$(t.target).val(_defaultvalues.name)}))}),$("#viewproductbrand").on("blur",function(t){if(!$(t.target).val())return $(t.target).val(_defaultvalues.brand);$(t.target).val()!=_defaultvalues.brand&&($(t.target).attr("disabled",!0),updateField({PBrand:$(t.target).val(),ProductId:$("#productid").val()},function(e){if(JSON.parse(e).response)return $("body").showAlert({type:"success",body:"Brand updated."});$(t.target).val(_defaultvalues.brand)}))}),$("#viewproductquantity").on("blur",function(t){if(!$(t.target).val())return $(t.target).val(_defaultvalues.quantity);$(t.target).val()!=_defaultvalues.quantity&&($(t.target).attr("disabled",!0),updateField({PQuantity:$(t.target).val(),ProductId:$("#productid").val()},function(e){if(JSON.parse(e).response)return $("body").showAlert({type:"success",body:"Quantity updated."});$(t.target).val(_defaultvalues.brand)}))}),$("#viewproductprice").on("blur",function(t){if(!$(t.target).val())return $(t.target).val(_defaultvalues.price);$(t.target).val()!=_defaultvalues.price&&($(t.target).attr("disabled",!0),updateField({PPrice:$(t.target).val(),ProductId:$("#productid").val()},function(e){if(JSON.parse(e).response)return $("body").showAlert({type:"success",body:"Quantity updated."});$(t.target).val(_defaultvalues.brand)}))}),$("#viewproductsizes").on("blur",function(t){if(!$(t.target).val())return $(t.target).val(_defaultvalues.sizes);$(t.target).val()!=_defaultvalues.sizes&&($(t.target).attr("disabled",!0),updateField({PSizes:$(t.target).val(),ProductId:$("#productid").val()},function(e){if(JSON.parse(e).response)return $("body").showAlert({type:"success",body:"Sizes updated."});$(t.target).val(_defaultvalues.sizes)}))}),$("#viewproductcolors").on("blur",function(t){if(!$(t.target).val())return $(t.target).val(_defaultvalues.colors);$(t.target).val()!=_defaultvalues.colors&&($(t.target).attr("disabled",!0),updateField({PColors:$(t.target).val(),ProductId:$("#productid").val()},function(e){if(JSON.parse(e).response)return $("body").showAlert({type:"success",body:"Colors updated."});$(t.target).val(_defaultvalues.colors)}))}),$("#productimageedit").on("click",function(a){var e=new FormData;e.append("PImage",document.querySelector("#viewproductimage").files[0]),e.append("ProductId",$("#productid").val()),$.ajax("viewproduct.php",{method:"POST",data:e,cache:!1,processData:!1,contentType:!1}).then(function(e){var t=JSON.parse(e);return t.response?($(a.target).attr("disabled",!0),$("#viewproductimage").val(""),$("#viewproductimageref").val(""),$("body").showAlert({type:"success",body:"Image Updated."})):t.error?$("body").showAlert({type:"danger",body:"Error: ".concat(t.error)}):void 0}).catch(function(e){$("body").showAlert({type:"error",body:"Something happened on our side. Please reload the browser for better experience."})})})});